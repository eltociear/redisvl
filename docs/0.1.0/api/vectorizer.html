
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
    <link href="../_static/favicon-32x32.png" sizes="32x32" rel="icon" type="image/png">
    <link href="../_static/favicon-16x16.png" sizes="16x16" rel="icon" type="image/png">
    <link rel="shortcut icon" sizes="any" href="../_static/favicon.ico" type="image/x-icon">
    <link href="../_static/android-chrome-192x192.png" sizes="192x192" rel="icon" type="image/png">
    <link rel="apple-touch-icon" href="../_static/apple-touch-icon.png" sizes="180x180" type="image/png">
    <title>Vectorizers &#8212; RedisVL</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=8302abb0" />
    <link rel="stylesheet" type="text/css" href="../_static/css/sidebar.css?v=6da03eb1" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=01f34227"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/vectorizer';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '_static/version_names.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '0.1.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <script src="../_static/js/sidebar.js?v=3e4ef29d"></script>
    <link rel="icon" href="../_static/redis-cube-red-white-rgb.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="LLMCache" href="cache.html" />
    <link rel="prev" title="Filter" href="filter.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/redis-cube-red-white-rgb.svg" class="logo__image only-light" alt="RedisVL"/>
    <script>document.write(`<img src="../_static/redis-cube-red-white-rgb.svg" class="logo__image only-dark" alt="RedisVL"/>`);</script>
  
  
    <p class="title logo__title">RedisVL</p>
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../overview/index.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">
                        User Guides
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples/index.html">
                        Example Gallery
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        API
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/RedisVentures/RedisVL" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../overview/index.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../user_guide/index.html">
                        User Guides
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../examples/index.html">
                        Example Gallery
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        API
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/RedisVentures/RedisVL" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><div id="sidebar" class="custom_sidebar">
    <ul id="toc"></ul>
</div>

<script src="sidebar.js"></script></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">RedisVL API</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Vectorizers</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="vectorizers">
<h1>Vectorizers<a class="headerlink" href="#vectorizers" title="Link to this heading">#</a></h1>
<section id="hftextvectorizer">
<h2>HFTextVectorizer<a class="headerlink" href="#hftextvectorizer" title="Link to this heading">#</a></h2>
<dl class="py class" id="hftextvectorizer-api">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.huggingface.HFTextVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HFTextVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sentence-transformers/all-mpnet-base-v2'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/huggingface.html#HFTextVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.huggingface.HFTextVectorizer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseVectorizer</span></code></p>
<p>The HFTextVectorizer class is designed to leverage the power of Hugging
Face’s Sentence Transformers for generating text embeddings. This vectorizer
is particularly useful in scenarios where advanced natural language
processing and understanding are required, and ideal for running on your own
hardware (for free).</p>
<p>Utilizing this vectorizer involves specifying a pre-trained model from
Hugging Face’s vast collection of Sentence Transformers. These models are
trained on a variety of datasets and tasks, ensuring versatility and
robust performance across different text embedding needs. Additionally,
make sure the <cite>sentence-transformers</cite> library is installed with
<cite>pip install sentence-transformers==2.2.2</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Embedding a single text</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">HFTextVectorizer</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;sentence-transformers/all-mpnet-base-v2&quot;</span><span class="p">)</span>
<span class="n">embedding</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">embed</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>

<span class="c1"># Embedding a batch of texts</span>
<span class="n">embeddings</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">embed_many</span><span class="p">([</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">,</span> <span class="s2">&quot;How are you?&quot;</span><span class="p">],</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialize the Hugging Face text vectorizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>str</em>) – The pre-trained model from Hugging Face’s Sentence
Transformers to be used for embedding. Defaults to
‘sentence-transformers/all-mpnet-base-v2’.</p></li>
<li><p><strong>dims</strong> (<em>int</em>) – </p></li>
<li><p><strong>client</strong> (<em>Any</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ImportError</strong> – If the sentence-transformers library is not installed.</p></li>
<li><p><strong>ValueError</strong> – If there is an error setting the embedding model dimensions.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.huggingface.HFTextVectorizer.embed">
<span class="sig-name descname"><span class="pre">embed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/huggingface.html#HFTextVectorizer.embed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.huggingface.HFTextVectorizer.embed" title="Link to this definition">#</a></dt>
<dd><p>Embed a chunk of text using the Hugging Face sentence transformer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – Chunk of text to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing
callable to perform before vectorization. Defaults to None.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Embedding.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the text.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.huggingface.HFTextVectorizer.embed_many">
<span class="sig-name descname"><span class="pre">embed_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/huggingface.html#HFTextVectorizer.embed_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.huggingface.HFTextVectorizer.embed_many" title="Link to this definition">#</a></dt>
<dd><p>Asynchronously embed many chunks of texts using the Hugging Face
sentence transformer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of text chunks to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing
callable to perform before vectorization. Defaults to None.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Batch size of texts to use when creating
embeddings. Defaults to 10.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of embeddings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[float]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the test.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="openaitextvectorizer">
<h2>OpenAITextVectorizer<a class="headerlink" href="#openaitextvectorizer" title="Link to this heading">#</a></h2>
<dl class="py class" id="openaitextvectorizer-api">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.openai.OpenAITextVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">OpenAITextVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text-embedding-ada-002'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/openai.html#OpenAITextVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseVectorizer</span></code></p>
<p>The OpenAITextVectorizer class utilizes OpenAI’s API to generate
embeddings for text data.</p>
<p>This vectorizer is designed to interact with OpenAI’s embeddings API,
requiring an API key for authentication. The key can be provided directly
in the <cite>api_config</cite> dictionary or through the <cite>OPENAI_API_KEY</cite> environment
variable. Users must obtain an API key from OpenAI’s website
(<a class="reference external" href="https://api.openai.com/">https://api.openai.com/</a>). Additionally, the <cite>openai</cite> python client must be
installed with <cite>pip install openai==0.28.1</cite>.</p>
<p>The vectorizer supports both synchronous and asynchronous operations,
allowing for batch processing of texts and flexibility in handling
preprocessing tasks.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Synchronous embedding of a single text</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">OpenAITextVectorizer</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;text-embedding-ada-002&quot;</span><span class="p">,</span>
    <span class="n">api_config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your_api_key&quot;</span><span class="p">}</span> <span class="c1"># OR set OPENAI_API_KEY in your env</span>
<span class="p">)</span>
<span class="n">embedding</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">embed</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>

<span class="c1"># Asynchronous batch embedding of multiple texts</span>
<span class="n">embeddings</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">aembed_many</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">,</span> <span class="s2">&quot;How are you?&quot;</span><span class="p">],</span>
    <span class="n">batch_size</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Initialize the OpenAI vectorizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>str</em>) – Model to use for embedding. Defaults to
‘text-embedding-ada-002’.</p></li>
<li><p><strong>api_config</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>]</em><em>, </em><em>optional</em>) – Dictionary containing the
API key. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ImportError</strong> – If the openai library is not installed.</p></li>
<li><p><strong>ValueError</strong> – If the OpenAI API key is not provided.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.aembed">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aembed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/openai.html#OpenAITextVectorizer.aembed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.aembed" title="Link to this definition">#</a></dt>
<dd><p>Asynchronously embed a chunk of text using the OpenAI API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – Chunk of text to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing callable to
perform before vectorization. Defaults to None.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Embedding.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the test.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.aembed_many">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aembed_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/openai.html#OpenAITextVectorizer.aembed_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.aembed_many" title="Link to this definition">#</a></dt>
<dd><p>Asynchronously embed many chunks of texts using the OpenAI API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of text chunks to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing callable to
perform before vectorization. Defaults to None.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Batch size of texts to use when creating
embeddings. Defaults to 10.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of embeddings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[float]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the test.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.embed">
<span class="sig-name descname"><span class="pre">embed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/openai.html#OpenAITextVectorizer.embed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.embed" title="Link to this definition">#</a></dt>
<dd><p>Embed a chunk of text using the OpenAI API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – Chunk of text to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing callable to
perform before vectorization. Defaults to None.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Embedding.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the test.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.embed_many">
<span class="sig-name descname"><span class="pre">embed_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/openai.html#OpenAITextVectorizer.embed_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.embed_many" title="Link to this definition">#</a></dt>
<dd><p>Embed many chunks of texts using the OpenAI API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of text chunks to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing
callable to perform before vectorization. Defaults to None.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Batch size of texts to use when creating
embeddings. Defaults to 10.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of embeddings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[float]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the test.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="vertexaitextvectorizer">
<h2>VertexAITextVectorizer<a class="headerlink" href="#vertexaitextvectorizer" title="Link to this heading">#</a></h2>
<dl class="py class" id="vertexaitextvectorizer-api">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VertexAITextVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'textembedding-gecko'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/vertexai.html#VertexAITextVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseVectorizer</span></code></p>
<p>The VertexAITextVectorizer uses Google’s VertexAI Palm 2 embedding model
API to create text embeddings.</p>
<p>This vectorizer is tailored for use in
environments where integration with Google Cloud Platform (GCP) services is
a key requirement.</p>
<p>Utilizing this vectorizer requires an active GCP project and location
(region), along with appropriate application credentials. These can be
provided through the <cite>api_config</cite> dictionary or by setting the corresponding
environment variables. Additionally, the vertexai python client must be
installed with <cite>pip install google-cloud-aiplatform&gt;=1.26</cite>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Synchronous embedding of a single text</span>
<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">VertexAITextVectorizer</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;textembedding-gecko&quot;</span><span class="p">,</span>
    <span class="n">api_config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;project_id&quot;</span><span class="p">:</span> <span class="s2">&quot;your_gcp_project_id&quot;</span><span class="p">,</span> <span class="c1"># OR set GCP_PROJECT_ID</span>
        <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;your_gcp_location&quot;</span><span class="p">,</span>     <span class="c1"># OR set GCP_LOCATION</span>
        <span class="s2">&quot;google_application_credentials&quot;</span><span class="p">:</span> <span class="s2">&quot;path_to_your_creds&quot;</span>
        <span class="c1"># OR set GOOGLE_APPLICATION_CREDENTIALS</span>
    <span class="p">})</span>
<span class="n">embedding</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">embed</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>

<span class="c1"># Asynchronous batch embedding of multiple texts</span>
<span class="n">embeddings</span> <span class="o">=</span> <span class="k">await</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">embed_many</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">,</span> <span class="s2">&quot;Goodbye, world!&quot;</span><span class="p">],</span>
    <span class="n">batch_size</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Initialize the VertexAI vectorizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>str</em>) – Model to use for embedding. Defaults to
‘textembedding-gecko’.</p></li>
<li><p><strong>api_config</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>]</em><em>, </em><em>optional</em>) – Dictionary containing the
API key. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ImportError</strong> – If the google-cloud-aiplatform library is not installed.</p></li>
<li><p><strong>ValueError</strong> – If the API key is not provided.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer.embed">
<span class="sig-name descname"><span class="pre">embed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/vertexai.html#VertexAITextVectorizer.embed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer.embed" title="Link to this definition">#</a></dt>
<dd><p>Embed a chunk of text using the VertexAI API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – Chunk of text to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing callable to
perform before vectorization. Defaults to None.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Embedding.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the test.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer.embed_many">
<span class="sig-name descname"><span class="pre">embed_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/vertexai.html#VertexAITextVectorizer.embed_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer.embed_many" title="Link to this definition">#</a></dt>
<dd><p>Embed many chunks of texts using the VertexAI API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of text chunks to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing callable to
perform before vectorization. Defaults to None.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Batch size of texts to use when creating
embeddings. Defaults to 10.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of embeddings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[float]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the wrong input type is passed in for the test.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="coheretextvectorizer">
<h2>CohereTextVectorizer<a class="headerlink" href="#coheretextvectorizer" title="Link to this heading">#</a></h2>
<dl class="py class" id="coheretextvectorizer-api">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.cohere.CohereTextVectorizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CohereTextVectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'embed-english-v3.0'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/cohere.html#CohereTextVectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.cohere.CohereTextVectorizer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseVectorizer</span></code></p>
<p>The CohereTextVectorizer class utilizes Cohere’s API to generate
embeddings for text data.</p>
<p>This vectorizer is designed to interact with Cohere’s /embed API,
requiring an API key for authentication. The key can be provided
directly in the <cite>api_config</cite> dictionary or through the <cite>COHERE_API_KEY</cite>
environment variable. User must obtain an API key from Cohere’s website
(<a class="reference external" href="https://dashboard.cohere.com/">https://dashboard.cohere.com/</a>). Additionally, the <cite>cohere</cite> python
client must be installed with <cite>pip install cohere</cite>.</p>
<p>The vectorizer supports only synchronous operations, allows for batch
processing of texts and flexibility in handling preprocessing tasks.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">redisvl.utils.vectorize</span> <span class="kn">import</span> <span class="n">CohereTextVectorizer</span>

<span class="n">vectorizer</span> <span class="o">=</span> <span class="n">CohereTextVectorizer</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;embed-english-v3.0&quot;</span><span class="p">,</span>
    <span class="n">api_config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;api_key&quot;</span><span class="p">:</span> <span class="s2">&quot;your-cohere-api-key&quot;</span><span class="p">}</span> <span class="c1"># OR set COHERE_API_KEY in your env</span>
<span class="p">)</span>
<span class="n">query_embedding</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">embed</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;your input query text here&quot;</span><span class="p">,</span>
    <span class="n">input_type</span><span class="o">=</span><span class="s2">&quot;search_query&quot;</span>
<span class="p">)</span>
<span class="n">doc_embeddings</span> <span class="o">=</span> <span class="n">cohere</span><span class="o">.</span><span class="n">embed_many</span><span class="p">(</span>
    <span class="n">texts</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;your document text&quot;</span><span class="p">,</span> <span class="s2">&quot;more document text&quot;</span><span class="p">],</span>
    <span class="n">input_type</span><span class="o">=</span><span class="s2">&quot;search_documents&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Initialize the Cohere vectorizer.</p>
<p>Visit <a class="reference external" href="https://cohere.ai/embed">https://cohere.ai/embed</a> to learn about embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>str</em>) – Model to use for embedding. Defaults to ‘embed-english-v3.0’.</p></li>
<li><p><strong>api_config</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>]</em><em>, </em><em>optional</em>) – Dictionary containing the API key.
Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ImportError</strong> – If the cohere library is not installed.</p></li>
<li><p><strong>ValueError</strong> – If the API key is not provided.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.cohere.CohereTextVectorizer.embed">
<span class="sig-name descname"><span class="pre">embed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/cohere.html#CohereTextVectorizer.embed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.cohere.CohereTextVectorizer.embed" title="Link to this definition">#</a></dt>
<dd><p>Embed a chunk of text using the Cohere Embeddings API.</p>
<p>Must provide the embedding <cite>input_type</cite> as a <cite>kwarg</cite> to this method
that specifies the type of input you’re giving to the model.</p>
<dl class="simple">
<dt>Supported input types:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search_document</span></code>: Used for embeddings stored in a vector database for search use-cases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">search_query</span></code>: Used for embeddings of search queries run against a vector DB to find relevant documents.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">classification</span></code>: Used for embeddings passed through a text classifier</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clustering</span></code>: Used for the embeddings run through a clustering algorithm.</p></li>
</ul>
</dd>
</dl>
<p>When hydrating your Redis DB, the documents you want to search over
should be embedded with input_type= “search_document” and when you are
querying the database, you should set the input_type = “search query”.
If you want to use the embeddings for a classification or clustering
task downstream, you should set input_type= “classification” or
“clustering”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – Chunk of text to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing callable to
perform before vectorization. Defaults to None.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
<li><p><strong>input_type</strong> (<em>str</em>) – Specifies the type of input passed to the model.
Required for embedding models v3 and higher.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Embedding.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[float]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – In an invalid input_type is provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="redisvl.utils.vectorize.text.cohere.CohereTextVectorizer.embed_many">
<span class="sig-name descname"><span class="pre">embed_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/redisvl/utils/vectorize/text/cohere.html#CohereTextVectorizer.embed_many"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#redisvl.utils.vectorize.text.cohere.CohereTextVectorizer.embed_many" title="Link to this definition">#</a></dt>
<dd><p>Embed many chunks of text using the Cohere Embeddings API.</p>
<p>Must provide the embedding <cite>input_type</cite> as a <cite>kwarg</cite> to this method
that specifies the type of input you’re giving to the model.</p>
<dl class="simple">
<dt>Supported input types:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search_document</span></code>: Used for embeddings stored in a vector database for search use-cases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">search_query</span></code>: Used for embeddings of search queries run against a vector DB to find relevant documents.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">classification</span></code>: Used for embeddings passed through a text classifier</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clustering</span></code>: Used for the embeddings run through a clustering algorithm.</p></li>
</ul>
</dd>
</dl>
<p>When hydrating your Redis DB, the documents you want to search over
should be embedded with input_type= “search_document” and when you are
querying the database, you should set the input_type = “search query”.
If you want to use the embeddings for a classification or clustering
task downstream, you should set input_type= “classification” or
“clustering”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of text chunks to embed.</p></li>
<li><p><strong>preprocess</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em><em>, </em><em>optional</em>) – Optional preprocessing callable to
perform before vectorization. Defaults to None.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Batch size of texts to use when creating
embeddings. Defaults to 10.</p></li>
<li><p><strong>as_buffer</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the raw embedding
to a byte string. Defaults to False.</p></li>
<li><p><strong>input_type</strong> (<em>str</em>) – Specifies the type of input passed to the model.
Required for embedding models v3 and higher.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of embeddings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[List[float]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – In an invalid input_type is provided.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="filter.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Filter</p>
      </div>
    </a>
    <a class="right-next"
       href="cache.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">LLMCache</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hftextvectorizer">HFTextVectorizer</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.huggingface.HFTextVectorizer"><code class="docutils literal notranslate"><span class="pre">HFTextVectorizer</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.huggingface.HFTextVectorizer.embed"><code class="docutils literal notranslate"><span class="pre">HFTextVectorizer.embed()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.huggingface.HFTextVectorizer.embed_many"><code class="docutils literal notranslate"><span class="pre">HFTextVectorizer.embed_many()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#openaitextvectorizer">OpenAITextVectorizer</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer"><code class="docutils literal notranslate"><span class="pre">OpenAITextVectorizer</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.aembed"><code class="docutils literal notranslate"><span class="pre">OpenAITextVectorizer.aembed()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.aembed_many"><code class="docutils literal notranslate"><span class="pre">OpenAITextVectorizer.aembed_many()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.embed"><code class="docutils literal notranslate"><span class="pre">OpenAITextVectorizer.embed()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.openai.OpenAITextVectorizer.embed_many"><code class="docutils literal notranslate"><span class="pre">OpenAITextVectorizer.embed_many()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#vertexaitextvectorizer">VertexAITextVectorizer</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer"><code class="docutils literal notranslate"><span class="pre">VertexAITextVectorizer</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer.embed"><code class="docutils literal notranslate"><span class="pre">VertexAITextVectorizer.embed()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.vertexai.VertexAITextVectorizer.embed_many"><code class="docutils literal notranslate"><span class="pre">VertexAITextVectorizer.embed_many()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#coheretextvectorizer">CohereTextVectorizer</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.cohere.CohereTextVectorizer"><code class="docutils literal notranslate"><span class="pre">CohereTextVectorizer</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.cohere.CohereTextVectorizer.embed"><code class="docutils literal notranslate"><span class="pre">CohereTextVectorizer.embed()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#redisvl.utils.vectorize.text.cohere.CohereTextVectorizer.embed_many"><code class="docutils literal notranslate"><span class="pre">CohereTextVectorizer.embed_many()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/RedisVentures/RedisVL/edit/main/docs/api/vectorizer.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/api/vectorizer.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>


  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Redis Inc..
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2EW85FTY8C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2EW85FTY8C');
</script>

  </body>
</html>